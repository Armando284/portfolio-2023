---
import { formatDate } from '../../utilities/formats'

interface Props {
  id: string
  imgUrl: string
  imgDescription: string
  title: string
  startAt: Date
  finishAt: Date
  description: string
  features: string[]
}

const {
  id,
  imgUrl,
  imgDescription,
  title,
  startAt,
  finishAt,
  description,
  features,
} = Astro.props
---

<a
  class="flex flex-col justify-between items-center bg-gradient-to-r from-purple-400 via-purple-700 to-purple-800 p-2 rounded-lg shadow-purple-900 shadow transition-shadow hover:shadow-purple-900 hover:shadow-lg border-purple-100 border-b-2"
  href={`/work-experience/${id}`}
  transition:name=`job ${id} box`>
  <div>
    <img
      class="w-full h-full rounded-md"
      src={imgUrl}
      alt={imgDescription}
    />
  </div>
  <div
    class="w-full h-max flex flex-col items-start bg-white p-5 rounded-md shadow-lg shadow-purple-900">
    <h3 class="text-slate-900 text-xl font-semibold">{title}</h3>
    <p class="italic text-sm">
      From {formatDate(startAt)} to {formatDate(finishAt)}
    </p>
    <p class="w-full max-h-12 truncate">
      {description}
    </p>
    <div class="">
      <h5 class="font-semibold">Main features:</h5>
      {
        features
          .slice(0, 3)
          .map((feature) => (
            <span class="bg-yellow-300 px-2 italic rounded-md capitalize mr-2">
              #{feature}
            </span>
          ))
      }
    </div>
  </div>
</a>
